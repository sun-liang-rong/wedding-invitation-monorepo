# 婚礼电子请帖系统 MVP 实现计划

## 📋 Phase 1: 数据库层设计（1 个任务）

### 1.1 定义 Prisma 数据模型
- 在 `apps/backend/prisma/schema.prisma` 中添加 `Invitation` 模型
- 字段：id、slug、groomName、brideName、weddingDate、weddingTime、locationName、locationAddress、coverImage、galleryImages、blessingText、createdAt
- 执行 `npx prisma migrate dev` 创建数据库迁移

---

## 📋 Phase 2: 后端 API 开发（2 个任务）

### 2.1 创建 Invitation 模块
- 创建 `invitation.module.ts` - NestJS 模块
- 创建 `invitation.entity.ts` - 数据实体
- 创建 `invitation.service.ts` - 业务逻辑（slug 生成、数据 CRUD）
- 创建 `invitation.controller.ts` - REST API 端点

### 2.2 实现 API 端点
- `POST /api/invitations` - 创建请帖
- `GET /api/invitations/:slug` - 根据 slug 获取请帖
- 集成 Prisma Service 进行数据库操作

---

## 📋 Phase 3: 前端页面开发（3 个任务）

### 3.1 创建请帖表单页（首页）
- 路径：`apps/frontend/app/page.tsx`
- 实现完整的婚礼信息表单
- 字段：新郎姓名、新娘姓名、婚礼日期时间、地点名称/地址、封面图片、相册图片（最多6张）、祝福文案
- 提交成功后跳转到访问链接

### 3.2 创建请帖访问页
- 路径：`apps/frontend/app/invite/[slug]/page.tsx`
- 根据 slug 获取请帖数据
- 实现婚礼请帖模板 UI（6个必需区块）
- 处理数据不存在的情况

### 3.3 移动端适配
- 确保页面在手机浏览器正常显示
- 移除横向滚动、图片自适应、字体适配
- 微信内置浏览器兼容
- Tailwind CSS 响应式设计

---

## 📋 Phase 4: 分享功能（1 个任务）

### 4.1 复制链接功能
- 在请帖访问页添加「复制链接」按钮
- 使用 Clipboard API 实现复制功能
- 复制成功后显示 Toast 提示

---

## 📋 Phase 5: 项目配置（1 个任务）

### 5.1 环境配置
- 创建 `.env` 文件模板
- 配置 `DATABASE_URL`、`DIRECT_URL`
- 配置后端 API 地址

---

## 🚀 启动顺序

1. **Phase 1**: 先配置数据库，运行迁移
2. **Phase 2**: 启动后端服务
3. **Phase 3**: 开发前端页面
4. **Phase 4**: 添加分享功能
5. **Phase 5**: 配置环境变量

---

## 📝 技术要点

- **slug 生成**：字母+数字，长度6-10位，数据库唯一
- **图片存储**：Supabase 对象存储，仅存储 URL
- **移动端优先**：使用 Tailwind CSS 的 `mobile-first` 类
- **无登录系统**：MVP 不做用户认证
- **不支持编辑**：创建后不可修改